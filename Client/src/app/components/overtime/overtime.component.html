<div class="container mt-5">
  <h2 class="mb-4 text-primary fw-bold">Over Time Management</h2>

  <form (submit)="onSubmit()" class="mb-4">
    <div class="row g-3">
      <div class="col-md-3">
        <label for="overTimeID" class="form-label fw-semibold">Overtime ID</label>
        <input [(ngModel)]="Form.overTimeID"
               name="overTimeID" id="overTimeID"
               class="form-control"
               placeholder="OT001"
               readonly>
      </div>

      <div class="col-md-3">
        <label for="otDate" class="form-label fw-semibold">Date</label>
        <input type="date" [(ngModel)]="Form.otDate" name="otDate" id="otDate" class="form-control" required>
      </div>

      <div class="col-md-3">
        <label for="otStartTime" class="form-label fw-semibold">OT Start Time</label>
        <input type="time" [(ngModel)]="Form.otStartTime" name="otStartTime" id="otStartTime" class="form-control" required>
      </div>

      <div class="col-md-3">
        <label for="otEndTime" class="form-label fw-semibold">OT End Time</label>
        <input type="time" [(ngModel)]="Form.otEndTime" name="otEndTime" id="otEndTime" class="form-control" required>
      </div>
    </div>

    <div class="row align-items-end mt-4">
      <div class="col-md-6">
        <label for="employeeID" class="form-label fw-semibold">Employee ID</label>
        <select [(ngModel)]="Form.employeeID" name="employeeID" id="employeeID" class="form-select" required>
          <option value="" disabled selected>Select Employee</option>
          <option *ngFor="let emp of employee" [value]="emp.employeeID">
            {{ emp.employeeID }} - {{ emp.employeeName }}
          </option>
        </select>
      </div>
      <div class="col-md-6 d-flex gap-2">
        <button class="btn btn-success flex-grow-1" type="submit">
          <i class="bi bi-save me-1"></i> {{ isEdit ? 'Update' : 'Add' }}
        </button>
        <button class="btn btn-outline-secondary flex-grow-1" type="button" (click)="resetForm()">
          <i class="bi bi-x-circle me-1"></i> Clear
        </button>
      </div>
    </div>
  </form>

  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-primary">
        <tr>
          <th scope="col">Over Time ID</th>
          <th scope="col">OT Date</th>
          <th scope="col">OT Start Time</th>
          <th scope="col">OT End Time</th>
          <th scope="col">Employee ID</th>
          <th scope="col" class="text-center" style="width: 150px;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of overtime">
          <td>{{ item.overTimeID }}</td>
          <td>{{ item.otDate | date: 'fullDate' }}</td>
          <td>{{ item.otStartTime }}</td>
          <td>{{ item.otEndTime }}</td>
          <td>{{ item.employeeID }}</td>
          <td class="text-center">
            <button class="btn btn-sm btn-info me-2" (click)="editItem(item)">
              <i class="bi bi-pencil-square"></i> Edit
            </button>
            <button class="btn btn-sm btn-danger" (click)="deleteItem(item.overTimeID!)">
              <i class="bi bi-trash"></i> Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
